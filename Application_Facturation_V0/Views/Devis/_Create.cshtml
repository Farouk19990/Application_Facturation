@model Application_Facturation_V0.Models.Devis;
@{
    List<Client> clients = Devis.lClient;
    List<Produit> produit = Devis.lProduit;

}
<style>
/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}
</style>
<div class="container d-flex justify-content-center">
    <div class="card px-1 py-4">
        <div class="card-body">
            <form asp-action="Create">
                 <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group" style="display:flex;align-items:center;justify-content:center">
                            <label for="tva" class="form-label col-sm-3">Devis Date  </label>
                            <div class="col-sm-8">
                            <input asp-for="date_devis" value="@DateTime.Now.ToString("yyyy-MM-dd")" class="form-control" type="date">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group" style="display:flex;align-items:center;justify-content:center">
                            <label for="tva" class="form-label col-sm-3">Client  </label>
                            <div class="col-sm-8">
                                <select asp-for="id_client" class="form-control">
                                    <option value="Fournisseur Name" class="form-control">Please select client</option>
                                    @foreach (Client c in clients)
                                    {
                                        <option value="@c.id_client">@c.nom_client @c.prenom_client</option>

                                    }
                                </select>
                            </div>

                        </div>
                    </div>
                </div>
                <form>
                  

                    
                </form>
               
                <table class="table align-items-center mb-0">
                    <thead>
                        <tr>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Designation</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Qte</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Remise</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Prix Unitaire</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">TVA</th>
                            <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Action</th>

                            <th class="text-secondary opacity-7"></th>
                        </tr>
                    </thead>
                    <tbody>
                        
                            <tr>
                                <td>
                                    <div class="d-flex px-2 py-1">
                                        
                                        <div class="d-flex flex-column justify-content-center">

                                        <select id="productSelect" onchange="updateInput()" class="form-control">
                                            <option class="form-control">Please select product</option>
                                            @foreach (Produit p in produit)
                                            {
                                                <option value="@p.produit_id" data-price="@p.prix_unitaire_ht">@p.designation</option>
                                            }
                                        </select>
                                        </div>
                                    </div>
                                </td>
                                <td class="align-middle text-center text-sm">
                                <input type="number" placeholder="QTE" class="form-control">

                                </td>
                                <td class="align-middle text-center text-sm">
                                <input type="number" placeholder="Remise" class="form-control">

                                </td>
                                <td class="align-middle text-center">
                                    <input type="number" id="productPriceInput" class="form-control">
                                    
                                </td>
                                <td class="align-middle text-center">
                                <input type="number" placeholder="TVA  " class="form-control">
                                </td>
                                <td class="align-middle text-center text-sm">
                                    <!--
                                        <button type="button" class="btn bg-gradient-primary" data-bs-toggle="modal" data-bs-target="("#editModal-"+item.fournisseur_id)" data-url="Url.Action($"EditPartial/{item.fournisseur_id}")">
                                        <i class="fas fa-edit">  </i>
                                        </button>
                                    -->
                                    <form action="Delete" style="display:inline;margin-top:5px">
                                    <button type="submit" class="btn" style="margin-top:8px;height:40px">
                                        <img src="../assets/flaticon/remove.png">
                                            </button>
                                    </form>

                                    <!--await Html.PartialAsync("EditPartial",item)-->
                                    <!-- Edit Modal -->

                                </td>
                            </tr>
                        

                    </tbody>
                </table>
                <!--
                <div class="row">
                <div class="form-floating">
                        <input type="number" class="form-label col-sm-3" id="floatingPassword" placeholder="Password">
                        <label class="form-control col-sm-8" for="floatingPassword">Password</label>
                </div>
                </div>--><!--
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">

                            <div class="input-group" style="display:flex;align-items:center;justify-content:center"> 
                                <label for="PrixHt" class="form-label col-sm-3">Prix HT  </label>
                                <div class="col-sm-8">
                                    <input asp-for="prix_ht" class="form-control" type="number" placeholder="Prix HT">
                                    </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <div class="input-group" style="display:flex;align-items:center;justify-content:center">
                                <label for="tva" class="form-label col-sm-3">Tva  </label>
                                <div class="col-sm-8">
                                <input asp-for="tva" class="form-control" type="number" placeholder="TVA"> 
                                </div>
                            </div>
                        </div>
                    </div>
                </div>-->
                  
             
                <button type="submit" class="btn btn-info" asp-action="Create"><i class="bi bi-plus-circle"></i> Add </button>
                <div class=" d-flex flex-column text-center px-5 mt-3 mb-3"> <small class="agree-text">By Booking this appointment you agree to the</small> <a href="#" class="terms">Terms & Conditions</a> </div> <button class="btn btn-primary btn-block confirm-button">Confirm</button>
            </form>
        </div>
    </div>
</div>

<script>
    function updateInput() {
        var productSelect = document.getElementById('productSelect');
        var selectedOption = productSelect.options[productSelect.selectedIndex];
        var productPrice = selectedOption.getAttribute('data-price');
        document.getElementById('productPriceInput').value = productPrice;
    }
</script>
